<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>InfoSec Quiz</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0f1a;
    --card: #141728;
    --card2: #1a1f35;
    --accent: #4f6ef7;
    --accent2: #7c3aed;
    --green: #22c55e;
    --red: #ef4444;
    --text: #e8eaf6;
    --muted: #8b92b8;
    --border: #252a45;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background-image: radial-gradient(ellipse at 20% 20%, rgba(79,110,247,0.12) 0%, transparent 60%),
                      radial-gradient(ellipse at 80% 80%, rgba(124,58,237,0.1) 0%, transparent 60%);
  }
  h1 {
    font-family: 'Syne', sans-serif;
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    font-weight: 800;
    background: linear-gradient(135deg, #4f6ef7, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
    text-align: center;
  }
  .subtitle {
    color: var(--muted);
    font-size: 0.95rem;
    text-align: center;
    margin-bottom: 40px;
  }
  .container {
    width: 100%;
    max-width: 760px;
  }

  /* HOME */
  #home { text-align: center; }
  .start-btn {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #fff;
    border: none;
    padding: 16px 52px;
    font-family: 'Syne', sans-serif;
    font-size: 1.1rem;
    font-weight: 700;
    border-radius: 50px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 8px 30px rgba(79,110,247,0.35);
    letter-spacing: 0.03em;
  }
  .start-btn:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(79,110,247,0.5); }
  .info-cards {
    display: flex;
    gap: 16px;
    justify-content: center;
    margin-bottom: 40px;
    flex-wrap: wrap;
  }
  .info-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 20px 28px;
    min-width: 140px;
  }
  .info-card .num {
    font-family: 'Syne', sans-serif;
    font-size: 2rem;
    font-weight: 800;
    color: var(--accent);
  }
  .info-card .label { color: var(--muted); font-size: 0.85rem; margin-top: 4px; }

  /* QUIZ */
  #quiz { display: none; }
  .progress-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    font-size: 0.85rem;
    color: var(--muted);
  }
  .progress-bar {
    width: 100%;
    height: 6px;
    background: var(--border);
    border-radius: 99px;
    margin-bottom: 28px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    border-radius: 99px;
    transition: width 0.4s ease;
  }
  .question-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 32px;
    margin-bottom: 16px;
    animation: fadeIn 0.3s ease;
  }
  @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
  .question-text {
    font-family: 'Syne', sans-serif;
    font-size: 1.1rem;
    font-weight: 600;
    line-height: 1.6;
    margin-bottom: 24px;
    color: var(--text);
  }
  .option {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 18px;
    border: 1.5px solid var(--border);
    border-radius: 12px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.18s;
    background: var(--card2);
    font-size: 0.95rem;
  }
  .option:hover:not(.disabled) {
    border-color: var(--accent);
    background: rgba(79,110,247,0.08);
  }
  .option.correct {
    border-color: var(--green);
    background: rgba(34,197,94,0.12);
    color: #86efac;
  }
  .option.wrong {
    border-color: var(--red);
    background: rgba(239,68,68,0.12);
    color: #fca5a5;
  }
  .option.show-correct {
    border-color: var(--green);
    background: rgba(34,197,94,0.08);
    color: #86efac;
  }
  .option.disabled { cursor: default; pointer-events: none; }
  .radio {
    width: 20px; height: 20px;
    border-radius: 50%;
    border: 2px solid var(--border);
    flex-shrink: 0;
    transition: all 0.18s;
    display: flex; align-items: center; justify-content: center;
  }
  .option.correct .radio { border-color: var(--green); background: var(--green); }
  .option.wrong .radio { border-color: var(--red); background: var(--red); }
  .option.show-correct .radio { border-color: var(--green); background: var(--green); }
  .radio-inner { width: 8px; height: 8px; border-radius: 50%; background: #fff; display: none; }
  .option.correct .radio-inner,
  .option.wrong .radio-inner,
  .option.show-correct .radio-inner { display: block; }
  .letter-badge {
    background: var(--border);
    color: var(--muted);
    width: 24px; height: 24px;
    border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
    flex-shrink: 0;
    font-family: 'Syne', sans-serif;
  }
  .next-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #fff;
    border: none;
    border-radius: 12px;
    font-family: 'Syne', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    margin-top: 10px;
    display: none;
    transition: opacity 0.2s;
    letter-spacing: 0.02em;
  }
  .next-btn:hover { opacity: 0.9; }

  /* RESULTS */
  #results { display: none; text-align: center; }
  .result-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 48px 36px;
    margin-bottom: 24px;
  }
  .score-circle {
    width: 140px; height: 140px;
    border-radius: 50%;
    margin: 0 auto 24px;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    font-family: 'Syne', sans-serif;
    position: relative;
  }
  .score-circle svg {
    position: absolute; top: 0; left: 0;
    transform: rotate(-90deg);
  }
  .score-circle circle {
    fill: none;
    stroke-width: 8;
    stroke-linecap: round;
  }
  .score-circle .bg-circle { stroke: var(--border); }
  .score-circle .fg-circle {
    stroke: var(--accent);
    transition: stroke-dashoffset 1s ease;
  }
  .score-num {
    font-size: 2.2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #4f6ef7, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    position: relative; z-index: 1;
  }
  .score-label { font-size: 0.8rem; color: var(--muted); z-index: 1; position: relative; }
  .result-msg {
    font-family: 'Syne', sans-serif;
    font-size: 1.4rem;
    font-weight: 700;
    margin-bottom: 8px;
  }
  .result-sub { color: var(--muted); font-size: 0.95rem; margin-bottom: 32px; }
  .result-stats {
    display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; margin-bottom: 32px;
  }
  .stat {
    background: var(--card2);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px 24px;
    min-width: 100px;
  }
  .stat-num { font-family: 'Syne', sans-serif; font-size: 1.6rem; font-weight: 800; }
  .stat-num.g { color: var(--green); }
  .stat-num.r { color: var(--red); }
  .stat-label { color: var(--muted); font-size: 0.8rem; margin-top: 4px; }
  .restart-btn {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #fff;
    border: none;
    padding: 15px 48px;
    font-family: 'Syne', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 50px;
    cursor: pointer;
    transition: opacity 0.2s;
    box-shadow: 0 8px 30px rgba(79,110,247,0.3);
  }
  .restart-btn:hover { opacity: 0.9; }

  .q-num { color: var(--accent); font-family: 'Syne', sans-serif; font-size: 0.85rem; font-weight: 700; margin-bottom: 8px; letter-spacing: 0.1em; text-transform: uppercase; }
</style>
</head>
<body>
<div class="container">

  <!-- HOME -->
  <div id="home">
    <h1>InfoSec Quiz</h1>
    <p class="subtitle">Test your knowledge of Information Security</p>
    <div class="info-cards">
      <div class="info-card"><div class="num" id="total-count">â€”</div><div class="label">Questions in bank</div></div>
      <div class="info-card"><div class="num">10</div><div class="label">Per session</div></div>
      <div class="info-card"><div class="num">3â€“4</div><div class="label">Answer options</div></div>
    </div>
    <button class="start-btn" onclick="startQuiz()">Start Test â†’</button>
  </div>

  <!-- QUIZ -->
  <div id="quiz">
    <h1 style="margin-bottom:6px;">InfoSec Quiz</h1>
    <div class="progress-row">
      <span id="q-counter">Question 1 of 10</span>
      <span id="score-live">âœ“ 0</span>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width:0%"></div></div>
    <div class="question-card" id="question-card">
      <div class="q-num" id="q-num">QUESTION 1</div>
      <div class="question-text" id="question-text"></div>
      <div id="options-container"></div>
      <button class="next-btn" id="next-btn" onclick="nextQuestion()">Next Question â†’</button>
    </div>
  </div>

  <!-- RESULTS -->
  <div id="results">
    <h1>Results</h1>
    <p class="subtitle">Here's how you did</p>
    <div class="result-card">
      <div class="score-circle" id="score-circle">
        <svg width="140" height="140" viewBox="0 0 140 140">
          <circle class="bg-circle" cx="70" cy="70" r="62" />
          <circle class="fg-circle" id="fg-circle" cx="70" cy="70" r="62" stroke-dasharray="389.6" stroke-dashoffset="389.6"/>
        </svg>
        <div class="score-num" id="score-pct">0%</div>
        <div class="score-label">Score</div>
      </div>
      <div class="result-msg" id="result-msg">Good job!</div>
      <div class="result-sub" id="result-sub"></div>
      <div class="result-stats">
        <div class="stat"><div class="stat-num g" id="correct-count">0</div><div class="stat-label">Correct</div></div>
        <div class="stat"><div class="stat-num r" id="wrong-count">0</div><div class="stat-label">Wrong</div></div>
        <div class="stat"><div class="stat-num" id="total-q">10</div><div class="stat-label">Total</div></div>
      </div>
      <button class="restart-btn" onclick="restartQuiz()">Try Again â†’</button>
    </div>
  </div>

</div>

<script>
// Parse questions from embedded data
const RAW = `What is the main goal of reconnaissance?|To gather information about a target|To exploit vulnerabilities|To report findings to management|To deploy malware
Which of the following is a passive reconnaissance tool?|theHarvester|Nmap|Netcat|Scapy
What does "attack surface" refer to?|All exposed entry points an attacker could exploit|The target's physical location|The list of tools used in recon|The legal scope of a penetration test
Tom reviews a scan and finds an internal IP address disclosure vulnerability. What protocol likely caused this?|NAT|TLS|SSH|VPN
Which CVSS metric indicates the type of user account an attacker must use?|Privileges Required|Attack Vector|Confidentiality Vectors|Attack Complexity
Which CVSS Attack Complexity value indicates the attack is simplest to exploit?|Low|High|Medium|Severe
Which CVSS value for Confidentiality/Integrity/Availability indicates total system compromise?|H|N|A|L
What is the most recent version of CVSS currently available?|4.0|2.0|3.0|3.1
Which metric is NOT included in the CVSS exploitability score?|Vulnerability Age|Attack Vector|Attack Complexity|Privileges Required
A vulnerability has a CVSS base score of 6.5. Which risk category does it fall into?|Medium|Low|High|Critical
A vulnerability reported by a scanner did not exist because the system was already patched. What type of error is this?|False Positive|False Negative|True Positive|True Negative
Which of the following is NOT a common source correlated with vulnerability scan results?|Database Tables|Logs|SIEM|Configuration Management System
Which characteristic is NOT required to consider a vulnerability scan complete?|All user accounts were covered|All network segments have been covered|The scan had sufficient privileges|All applications were covered
In what attack does the attacker place more information in memory than is allocated?|Buffer Overflow|SQL Injection|LDAP Injection|Cross-site Scripting
Which protocol should NEVER be used on a public network?|Telnet|SSH|HTTPS|SFTP
Which transport encryption protocol is the best choice for a new public website?|TLS 1.3|SSL 2.0|SSL 3.0|TLS 1.0
Which condition would NOT result in a certificate warning during a vulnerability scan?|Inclusion of a public encryption key|Use of an untrusted CA|Expiration of the certificate|Mismatch in certificate name
What software component enforces separation of guest systems in a virtualized infrastructure?|Hypervisor|Guest Operating System|Host Operating System|Memory Controller
In what attack does the attacker seek access to resources assigned to a different virtual machine?|VM Escape|Management Interface Brute Force|LDAP Injection|DNS Amplification
Which term is NOT typically used to describe connecting physical devices to a network?|IDS|IoT|ICS|SCADA
An attacker posted a malicious message on a web forum to target visiting users. What attack type is most likely?|Cross-site Scripting|SQL Injection|Malware Injection|LDAP Injection
Web server logs show semicolons and apostrophes in user queries after an attack. What attack is suspected?|SQL Injection|LDAP Injection|Cross-site Scripting|Buffer Overflow
A vulnerability scanner rates a finding 9.3/10 on TCP 445. What exploit type is most likely?|SMB exploit|SQL injection|CGI exploit|MIB exploit
After gaining access to a Windows system, an attacker runs SchTasks /create /SC Weekly /TN "Antivirus" /TR "C:\...". What was accomplished?|He scheduled his own executable to run weekly|He set up a weekly antivirus scan|He set up a job called weekly|Nothing; this only runs on Linux
After exploiting a Linux system, an attacker wants to list all user accounts and home directories. Which location provides this?|/etc/passwd|/etc/shadow|/var/usr|/home
Days after exploiting a target with Meterpreter, an attacker loses access but the vulnerability is still open. What most likely happened?|A malware scan discovered Meterpreter and removed it|The system was patched|The system was rebooted|Meterpreter crashed
An attacker wants to exfiltrate data from a Windows system with least chance of detection. Which method is best?|Use PowerShell to base64-encode data, then post to a public HTTPS code repository|Send via outbound HTTP as plain text|Hash the data, then send via outbound HTTPS|Use PowerShell to base64-encode, then use SSH tunnel
Rules of engagement say no tools can be added to compromised systems. What technique must the attacker use?|Compromise using fileless malware, then use living-off-the-land techniques|Compromise using Metasploit, then use living-off-the-land techniques|Compromise using fileless malware, then cover tracks only|Compromise using Metasploit, then clean dropped files and use system utilities
An attacker has valid usernames but no passwords and suspects poor password practices. What attack can she use?|Dictionary attacks|Rainbow tables|Thesaurus attacks|Meterpreter
What built-in Windows tool can allow command-line PowerShell access from other systems?|RDP|VNC|PowerSSHell|PSRemote
Which of the following is NOT a common method for maintaining persistence on Linux servers?|Scheduled tasks|cron jobs|Trojaned services|Modified daemons
An attacker discovers information exposure vulnerabilities but no user or service info. What priority should exploiting them be?|Low priority; only if time permits|High priority; exploit early|Medium priority; after other exploits|Do not exploit
An attacker uses leaked passwords attempting one password per account before moving to the next. What attack is this?|Password spraying|A firehose attack|Pass the hash|A cloned password attack
An attacker wants to capture user hashes from Windows network broadcast messages. Which tool is best?|Responder|Metasploit|Impacket|Wireshark
BloodHound is used during a penetration test. What does it help with?|Visualize Active Directory environments|Capture encrypted network traffic|Visualize network traffic flows|Find encrypted files in network shares
A penetration tester performs a PCI DSS engagement. What technique is most likely used for network segmentation testing?|Firewall rule validation between segments|Testing for 802.1q trunking on the Internet connection|Testing for physical segmentation|Antimalware rule validation between segments`;

const QUESTIONS_PER_SESSION = 10;
const OPTIONS_COUNT = 3; // show 3 options (correct + 2 wrong)

let allQuestions = [];
let sessionQuestions = [];
let currentIndex = 0;
let correctCount = 0;
let answered = false;

function parseQuestions() {
  return RAW.trim().split('\n').map(line => {
    const parts = line.split('|');
    return { question: parts[0], correct: parts[1], wrong: parts.slice(2) };
  });
}

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function buildOptions(q) {
  // pick random wrong answers (2)
  const wrongPool = shuffle(q.wrong).slice(0, OPTIONS_COUNT - 1);
  const options = shuffle([q.correct, ...wrongPool]);
  return options;
}

function startQuiz() {
  allQuestions = parseQuestions();
  sessionQuestions = shuffle(allQuestions).slice(0, QUESTIONS_PER_SESSION);
  currentIndex = 0;
  correctCount = 0;

  document.getElementById('home').style.display = 'none';
  document.getElementById('results').style.display = 'none';
  document.getElementById('quiz').style.display = 'block';

  renderQuestion();
}

function renderQuestion() {
  answered = false;
  const q = sessionQuestions[currentIndex];
  const total = sessionQuestions.length;

  document.getElementById('q-counter').textContent = `Question ${currentIndex + 1} of ${total}`;
  document.getElementById('score-live').textContent = `âœ“ ${correctCount}`;
  document.getElementById('progress-fill').style.width = `${(currentIndex / total) * 100}%`;
  document.getElementById('q-num').textContent = `QUESTION ${currentIndex + 1}`;
  document.getElementById('question-text').textContent = q.question;
  document.getElementById('next-btn').style.display = 'none';

  const opts = buildOptions(q);
  const letters = ['A', 'B', 'C', 'D'];
  const container = document.getElementById('options-container');
  container.innerHTML = '';

  opts.forEach((opt, i) => {
    const div = document.createElement('div');
    div.className = 'option';
    div.innerHTML = `<div class="radio"><div class="radio-inner"></div></div><div class="letter-badge">${letters[i]}</div><span>${opt}</span>`;
    div.onclick = () => selectOption(div, opt, q.correct, container);
    container.appendChild(div);
  });

  // animate card
  const card = document.getElementById('question-card');
  card.style.animation = 'none';
  card.offsetHeight;
  card.style.animation = 'fadeIn 0.3s ease';
}

function selectOption(selected, selectedText, correctText, container) {
  if (answered) return;
  answered = true;

  const options = container.querySelectorAll('.option');
  options.forEach(opt => opt.classList.add('disabled'));

  const isCorrect = selectedText === correctText;

  if (isCorrect) {
    selected.classList.add('correct');
    correctCount++;
  } else {
    selected.classList.add('wrong');
    // highlight correct
    options.forEach(opt => {
      if (opt.querySelector('span').textContent === correctText) {
        opt.classList.add('show-correct');
      }
    });
  }

  document.getElementById('score-live').textContent = `âœ“ ${correctCount}`;

  const nextBtn = document.getElementById('next-btn');
  nextBtn.style.display = 'block';
  const isLast = currentIndex === sessionQuestions.length - 1;
  nextBtn.textContent = isLast ? 'See Results â†’' : 'Next Question â†’';
}

function nextQuestion() {
  currentIndex++;
  if (currentIndex >= sessionQuestions.length) {
    showResults();
  } else {
    renderQuestion();
  }
}

function showResults() {
  document.getElementById('quiz').style.display = 'none';
  document.getElementById('results').style.display = 'block';

  const total = sessionQuestions.length;
  const pct = Math.round((correctCount / total) * 100);

  document.getElementById('score-pct').textContent = pct + '%';
  document.getElementById('correct-count').textContent = correctCount;
  document.getElementById('wrong-count').textContent = total - correctCount;
  document.getElementById('total-q').textContent = total;

  let msg, sub;
  if (pct >= 90) { msg = 'ðŸ† Excellent!'; sub = 'Outstanding knowledge of InfoSec!'; }
  else if (pct >= 75) { msg = 'ðŸ‘ Great job!'; sub = 'You have solid InfoSec knowledge.'; }
  else if (pct >= 60) { msg = 'ðŸ‘ Good effort!'; sub = 'Keep studying to improve further.'; }
  else if (pct >= 40) { msg = 'ðŸ“š Keep learning!'; sub = 'Review the material and try again.'; }
  else { msg = 'ðŸ’ª Don\'t give up!'; sub = 'More practice will make you better.'; }

  document.getElementById('result-msg').textContent = msg;
  document.getElementById('result-sub').textContent = sub;

  // animate circle
  const circumference = 389.6;
  const offset = circumference - (pct / 100) * circumference;
  setTimeout(() => {
    document.getElementById('fg-circle').style.strokeDashoffset = offset;
  }, 100);
}

function restartQuiz() {
  document.getElementById('results').style.display = 'none';
  document.getElementById('fg-circle').style.strokeDashoffset = 389.6;
  startQuiz();
}

// Init
allQuestions = parseQuestions();
document.getElementById('total-count').textContent = allQuestions.length;
</script>
</body>
</html>
